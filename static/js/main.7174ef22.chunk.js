(window["webpackJsonpmy-app"]=window["webpackJsonpmy-app"]||[]).push([[0],{108:function(e,t,n){"use strict";n.d(t,"b",(function(){return u}));var a=n(49),r=n(10);function o(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function s(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?o(n,!0).forEach((function(t){Object(r.a)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):o(n).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var i={messagesData:[{id:1,text:"Love",time:"4:20"},{id:2,text:"Hate",time:"4:20"},{id:3,text:"Uptown",time:"4:20"},{id:4,text:"Shinin' like a diamond from an eagle to a pigeon",time:"4:20"},{id:5,text:"Bree",time:"4:20"},{id:6,text:"Love",time:"4:20"},{id:7,text:"Hate",time:"4:20"},{id:8,text:"Uptown",time:"4:20"},{id:9,text:"Shinin' like a diamond from an eagle to a pigeon",time:"4:20"},{id:10,text:"Bree",time:"4:20"}],dialogsList:[{id:1,name:"Lil Wayne"},{id:2,name:"Rick Ross"},{id:3,name:"Birdman"},{id:4,name:"Drake"},{id:5,name:"Dj Khaled"},{id:6,name:"Snopp Dogg"},{id:7,name:"Wiz Khalifa"},{id:8,name:"Swae Lee"},{id:9,name:"Slim Jxmmi"},{id:10,name:"Rick Rubin"}],newMessageText:"\u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u0442\u0435\u043a\u0441\u0442 \u0441\u043e\u043e\u0431\u0449\u0435\u043d\u0438\u044f"},u=function(e){return{type:"SEND-MESSAGE",newMessage:e}};t.a=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:i,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SEND-MESSAGE":var n={id:12,text:t.newMessage,time:"4:20"};return s({},e,{messagesData:[].concat(Object(a.a)(e.messagesData),[n]),newMessageText:""});default:return e}}},139:function(e,t,n){e.exports={preloader:"Preloader_preloader__LoeeJ"}},140:function(e,t,n){e.exports=n.p+"static/media/load.cffa9d9d.gif"},141:function(e,t,n){e.exports={activePage:"Users_activePage__2WWve",button_showMore:"Users_button_showMore__1S5xG",pagination:"Users_pagination__aNssJ"}},143:function(e,t,n){},144:function(e,t,n){e.exports={profile__hero:"Profile_profile__hero__1oL6A"}},145:function(e,t,n){e.exports={sidebar:"LatestComments_sidebar__3ShUj"}},170:function(e,t,n){e.exports=n(299)},24:function(e,t,n){"use strict";n.d(t,"b",(function(){return a})),n.d(t,"a",(function(){return r}));var a=function(e){return e?void 0:"Required"},r=function(e){return function(t){if(t&&t.length>e)return"Max length error"}}},253:function(e,t,n){},254:function(e,t,n){},28:function(e,t,n){e.exports={textarea:"ValidationForms_textarea__2nQQv",textarea_zeroValueError:"ValidationForms_textarea_zeroValueError__3pA4V",textarea_maxLengthError:"ValidationForms_textarea_maxLengthError__2z2id"}},297:function(e,t,n){},298:function(e,t,n){},299:function(e,t,n){"use strict";n.r(t);var a=n(8),r=n(11),o=n.n(r),s=n(26),i=n(49),u=n(10),c=n(134).create({withCredentials:!0,baseURL:"https://social-network.samuraijs.com/api/1.0/",headers:{"API-KEY":"21610f45-f41d-4a91-be29-53d5519c640e"}}),l={getUsers:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;return c.get("users?page=".concat(e,"&count=").concat(t)).then((function(e){return e.data}))},getFirstThreeUsers:function(){return c.get("users?page=1&count=3").then((function(e){return e.data}))},followUser:function(e){return c.post("follow/".concat(e)).then((function(e){return e.data}))},unFollowUser:function(e){return c.delete("follow/".concat(e)).then((function(e){return e.data}))},getUserProfile:function(e){return console.warn("Use new method getProfile"),p.getProfile(e)}},p={getProfile:function(e){return c.get("profile/".concat(e))},getStatus:function(e){return c.get("profile/status/".concat(e))},updateStatus:function(e){return c.put("profile/status",{status:e})}},m=function(){return c.get("auth/me").then((function(e){return e.data}))},f=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return c.post("auth/login",{email:e,password:t,rememberMe:n}).then((function(e){return e.data}))},d=function(){return c.delete("auth/login").then((function(e){return e.data}))},g=l;function b(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function h(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?b(n,!0).forEach((function(t){Object(u.a)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):b(n).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var _="profile-reducer/ADD-POST",E={postsData:[{id:1,message:"\u042f \u043d\u0430 \u0411\u0430\u043b\u0438"},{id:2,message:"\u042f \u043d\u0430 \u0411\u0430\u0433\u0430\u043c\u0430\u0445"},{id:3,message:"\u042f \u043d\u0430 \u0413\u0430\u0432\u0430\u044f\u0445"},{id:4,message:"\u042f \u0432 \u041c\u0430\u0439\u0430\u043c\u0438"},{id:5,message:"\u042f \u0432 \u0410\u043c\u0441\u0442\u0435\u0440\u0434\u0430\u043c\u0435"}],newPostText:"Imma ride",profile:null,status:""},O=function(e){return{type:"SET_USER_PROFILE",profile:e}},w=function(e){return{type:"SET_USER_STATUS",status:e}},v=function(e){return function(){var t=Object(s.a)(o.a.mark((function t(n){var a;return o.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,g.getUserProfile(e);case 2:a=t.sent,n(O(a.data));case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},j=function(e){return function(t){p.getStatus(e).then((function(e){t(w(e.data))}))}},P=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:E,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case _:var n={id:6,message:t.newPostTextValue};return h({},e,{postsData:[].concat(Object(i.a)(e.postsData),[n]),newPostText:""});case"SET_USER_PROFILE":return h({},e,{profile:t.profile});case"SET_USER_STATUS":return h({},e,{status:t.status});case"DELETE_POST":return h({},e,{postsData:e.postsData.filter((function(e){return e.id!=t.postId}))});default:return e}},y=n(108),S={messagesData:[{id:1,text:"Love",time:"4:20"},{id:2,text:"Hate",time:"4:20"},{id:3,text:"Uptown",time:"4:20"},{id:4,text:"Shinin' like a diamond from an eagle to a pigeon",time:"4:20"},{id:5,text:"Bree",time:"4:20"},{id:6,text:"Love",time:"4:20"},{id:7,text:"Hate",time:"4:20"},{id:8,text:"Uptown",time:"4:20"},{id:9,text:"Shinin' like a diamond from an eagle to a pigeon",time:"4:20"},{id:10,text:"Bree",time:"4:20"}],dialogsList:[{id:1,name:"Lil Wayne"},{id:2,name:"Rick Ross"},{id:3,name:"Birdman"},{id:4,name:"Drake"},{id:5,name:"Dj Khaled"},{id:6,name:"Snopp Dogg"},{id:7,name:"Wiz Khalifa"},{id:8,name:"Swae Lee"},{id:9,name:"Slim Jxmmi"},{id:10,name:"Rick Rubin"}],newMessageText:"\u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u0442\u0435\u043a\u0441\u0442 \u0441\u043e\u043e\u0431\u0449\u0435\u043d\u0438\u044f"},T=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:S;arguments.length>1&&arguments[1];return e};function x(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function N(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?x(n,!0).forEach((function(t){Object(u.a)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):x(n).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var U={users:[],firstThreeUsers:[],pageSize:3,totalUsersCount:0,currentPage:1,isFetching:!1,followingInProgress:[],displayingUsers:10,currentProfile:void 0},k=function(){var e=Object(s.a)(o.a.mark((function e(t,n,a,r){return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n(z(!0,t)),e.next=3,a(t);case 3:0==e.sent.resultCode&&n(r(t)),n(z(!1,t));case 6:case"end":return e.stop()}}),e)})));return function(t,n,a,r){return e.apply(this,arguments)}}(),D=function(e){return{type:"FOLLOW",userID:e}},I=function(e){return{type:"UNFOLLOW",userID:e}},F=function(e){return{type:"SET_USERS",users:e}},C=function(e){return{type:"users-reducer/SET_FIRST_THREE_USERS",firstThreeUsers:e}},L=function(e){return{type:"SET_CURRENT_PAGE",page:e}},A=function(e){return{type:"SET_TOTAL_USERS_COUNT",totalUsers:e}},R=function(e){return{type:"SET_IS_FETCHING",isFetching:e}},z=function(e,t){return{type:"TOGGLE_IS_FOLLOWING_PROGRESS",isFetching:e,userID:t}},M=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:U,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"FOLLOW":return N({},e,{users:e.users.map((function(e){return e.id===t.userID?N({},e,{followed:!0}):e}))});case"UNFOLLOW":return N({},e,{users:e.users.map((function(e){return console.log(e),e.id===t.userID?N({},e,{followed:!1}):e}))});case"SET_USERS":return N({},e,{users:t.users});case"SET_CURRENT_PAGE":return N({},e,{currentPage:t.page});case"SET_TOTAL_USERS_COUNT":return N({},e,{totalUsersCount:t.totalUsers});case"SET_IS_FETCHING":return N({},e,{isFetching:t.isFetching});case"TOGGLE_IS_FOLLOWING_PROGRESS":return N({},e,{followingInProgress:t.isFetching?[].concat(Object(i.a)(e.followingInProgress),[t.userID]):e.followingInProgress.filter((function(e){return e!=t.userID}))});case"users-reducer/SET_FIRST_THREE_USERS":return N({},e,{firstThreeUsers:t.firstThreeUsers});case"user-reducer/SET_CURRENT_PROFILE":return N({},e,{currentProfile:t.currentProfile});default:return e}},V=n(37);function W(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function G(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?W(n,!0).forEach((function(t){Object(u.a)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):W(n).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var B={email:null,id:null,login:null,isAuth:!1},H=function(){return function(){var e=Object(s.a)(o.a.mark((function e(t){var n;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,m();case 2:0===(n=e.sent).resultCode&&t(J(n.data.email,n.data.id,n.data.login,!0));case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},J=function(e,t,n,a){return{type:"SET_AUTH_USER_DATA",data:{email:e,id:t,login:n,isAuth:a}}},K=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:B,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SET_AUTH_USER_DATA":return G({},e,{},t.data);default:return e}};function q(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function Z(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?q(n,!0).forEach((function(t){Object(u.a)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):q(n).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var X={initialized:!1},Y=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:X,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"INITIALIZED_SUCCESS":return Z({},e,{initialized:!0});default:return e}};function $(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function Q(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?$(n,!0).forEach((function(t){Object(u.a)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):$(n).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var ee={newsData:[{id:1,newsName:"\u041d\u043e\u0432\u044b\u0439 \u043e\u0441\u043e\u0431\u043d\u044f\u043a \u0441\u0442\u043e\u0438\u043c\u043e\u0441\u0442\u044c\u044e 25 \u043c\u043b\u043d$ \u0431\u044b\u043b \u043f\u043e\u0441\u0442\u0440\u043e\u0435\u043d \u043d\u0430 25 \u043b\u0438\u043d\u0438\u0438 \u0421\u041d\u0422 \u0414\u0440\u0443\u0436\u0431\u0430",newsImage:"https://www.grekomania.ru/images/places/19/cyclades/santorini/big/88316_Famous-Santorini-sunset-3.jpg",date:"28 \u0438\u044e\u043b\u044f",newsText:"\u0420\u043e\u0441\u043a\u043e\u0448\u043d\u044b\u0439 \u043e\u0441\u043e\u0431\u043d\u044f\u043a \u0441\u043c\u043e\u0442\u0440\u0438\u0442\u0441\u044f \u043f\u0440\u043e\u0441\u0442\u043e \u0438\u0437\u0443\u043c\u0438\u0442\u0435\u043b\u044c\u043d\u043e! \u0420\u044f\u0434\u043e\u043c \u0441 \u0434\u043e\u043c\u043e\u043c \u0441\u0442\u043e\u0438\u0442 \u043c\u043d\u043e\u0436\u0435\u0441\u0442\u0432\u043e \u0441\u0443\u043f\u0435\u0440\u043a\u0430\u0440\u043e\u0432! \u0412 \u0434\u043e\u043c\u0435 8 \u0441\u043f\u0430\u043b\u0435\u043d, 5 \u0432\u0430\u043d\u043d\u044b\u0445 \u043a\u043e\u043c\u043d\u0430\u0442. \u0420\u043e\u0441\u043a\u043e\u0448\u043d\u044b\u0439 \u043e\u0441\u043e\u0431\u043d\u044f\u043a \u043a\u043b\u0430\u0441\u0441\u0430 \u043b\u044e\u043a\u0441 \u043f\u0440\u0438\u043d\u0430\u0434\u043b\u0435\u0436\u0438\u0442 \u0440\u0443\u0441\u0441\u043a\u043e\u043c\u0443 \u0431\u0438\u0437\u043d\u0435\u0441\u0441\u043c\u0435\u043d\u0443!"},{id:2,newsName:"\u041f\u0440\u043e\u0449\u0430\u043b\u044c\u043d\u044b\u0439 \u043a\u043e\u0441\u0442\u0435\u0440 \u0441\u043e\u0441\u0442\u043e\u0438\u0442\u0441\u044f 25 \u0430\u0432\u0433\u0443\u0441\u0442\u0430",newsImage:"https://www.grekomania.ru/images/places/19/cyclades/santorini/big/88316_Famous-Santorini-sunset-3.jpg",date:"28 \u0438\u044e\u043b\u044f"},{id:3,newsName:"\u0414\u043e\u0440\u043e\u0433\u043e\u0435 \u0448\u0430\u043c\u043f\u0430\u043d\u0441\u043a\u043e\u0435 \u0431\u0443\u0434\u0435\u0442 \u043b\u0438\u0442\u044c\u0441\u044f \u0440\u0435\u043a\u043e\u0439 \u043d\u0430 \u043f\u0440\u043e\u0449\u0430\u043b\u044c\u043d\u043e\u043c \u043a\u043e\u0441\u0442\u0440\u0435!",newsImage:"https://www.grekomania.ru/images/places/19/cyclades/santorini/big/88316_Famous-Santorini-sunset-3.jpg",date:"28 \u0438\u044e\u043b\u044f"}]},te=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ee,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"users-reducer/GET_NEWS":return Q({news:t.news},e);default:return e}},ne=n(135),ae=n(133),re=Object(a.c)({profilePage:P,dialogsPage:y.a,navigation:T,usersPage:M,newsPage:te,auth:K,form:ae.a,app:Y}),oe=Object(a.e)(re,Object(a.a)(ne.a));window.store=oe;var se=oe,ie=n(0),ue=n.n(ie),ce=n(67),le=n.n(ce),pe=(n(253),n(13)),me=n(14),fe=n(16),de=n(15),ge=n(17),be=(n(254),n(6)),he=n(94),_e=n.n(he),Ee=n(9),Oe=function(e){return ue.a.createElement("header",{className:_e.a.header},e.userData.isAuth?ue.a.createElement("div",null,ue.a.createElement("span",null,e.userData.login),ue.a.createElement("button",{onClick:e.logout,className:_e.a.button_logout},"\u0412\u044b\u0439\u0442\u0438")):ue.a.createElement(Ee.b,{to:"/login"},"\u0412\u043e\u0439\u0442\u0438"))},we=n(89),ve=function(e){function t(){return Object(pe.a)(this,t),Object(fe.a)(this,Object(de.a)(t).apply(this,arguments))}return Object(ge.a)(t,e),Object(me.a)(t,[{key:"render",value:function(){return ue.a.createElement(Oe,this.props)}}]),t}(ue.a.Component),je=Object(be.b)((function(e){return{userData:e.auth}}),{setAuthUserDataThunk:H,logout:function(){return function(){var e=Object(s.a)(o.a.mark((function e(t){return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,d();case 2:0===e.sent.resultCode&&t(J(null,null,null,!1));case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()}})(ve),Pe=n(31),ye=n.n(Pe),Se=n(96),Te=n.n(Se),xe=n(139),Ne=n.n(xe),Ue=n(140),ke=n.n(Ue),De=function(e){return ue.a.createElement("img",{className:Ne.a.preloader,src:ke.a})},Ie=n(25),Fe=Object(be.b)(null,{getUserStatusThunk:j,setUserProfileThunk:v})((function(e){return ue.a.createElement("div",{className:Te.a.bestfriends},0!==e.bestFriends.length?ue.a.createElement("section",{className:Te.a.bestfriends_persons},ue.a.createElement("p",null,"\u0414\u0440\u0443\u0437\u044c\u044f"),ue.a.createElement("ul",null,ue.a.createElement("li",null,ue.a.createElement(Ee.b,{onClick:function(){e.setUserProfileThunk(e.bestFriends[0].id),e.getUserStatusThunk(e.bestFriends[0].id)},to:"/profile/".concat(e.bestFriends[0].id)},e.bestFriends[0].name)),ue.a.createElement("li",null,ue.a.createElement(Ee.b,{onClick:function(){e.setUserProfileThunk(e.bestFriends[1].id),e.getUserStatusThunk(e.bestFriends[1].id)},to:"/profile/".concat(e.bestFriends[1].id)},e.bestFriends[1].name)),ue.a.createElement("li",null,ue.a.createElement(Ee.b,{onClick:function(){e.setUserProfileThunk(e.bestFriends[2].id),e.getUserStatusThunk(e.bestFriends[2].id)},to:"/profile/".concat(e.bestFriends[2].id)},e.bestFriends[2].name)))):ue.a.createElement(De,null))})),Ce=Object(Ie.f)(Fe),Le=function(e){function t(){return Object(pe.a)(this,t),Object(fe.a)(this,Object(de.a)(t).apply(this,arguments))}return Object(ge.a)(t,e),Object(me.a)(t,[{key:"componentWillMount",value:function(){this.props.getFirstThreeUsers()}},{key:"render",value:function(){return ue.a.createElement("nav",{className:ye.a.nav},ue.a.createElement("ul",null,ue.a.createElement("li",null,ue.a.createElement(Ee.b,{to:"/profile",className:ye.a.navigation,activeClassName:ye.a.active},"\u041f\u0440\u043e\u0444\u0438\u043b\u044c")),ue.a.createElement("li",null,ue.a.createElement(Ee.b,{to:"/news",className:ye.a.navigation},"\u041d\u043e\u0432\u043e\u0441\u0442\u0438")),ue.a.createElement("li",null,ue.a.createElement(Ee.b,{to:"/dialogs",className:ye.a.navigation,activeClassName:ye.a.active},"\u0421\u043e\u043e\u0431\u0449\u0435\u043d\u0438\u044f")),ue.a.createElement("li",null,ue.a.createElement(Ee.b,{to:"",className:ye.a.navigation},"\u0414\u043e\u043a\u0443\u043c\u0435\u043d\u0442\u044b")),ue.a.createElement("li",null,ue.a.createElement(Ee.b,{to:"",className:ye.a.navigation},"\u0418\u043d\u0444\u043e\u0440\u043c\u0430\u0446\u0438\u044f")),ue.a.createElement("li",null,ue.a.createElement(Ee.b,{to:"/users",className:ye.a.navigation},"\u041f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u0438"))),ue.a.createElement(Ce,{bestFriends:this.props.bestFriends}))}}]),t}(ue.a.Component),Ae=Object(be.b)((function(e){return{bestFriends:e.usersPage.firstThreeUsers}}),{getFirstThreeUsers:function(){return function(){var e=Object(s.a)(o.a.mark((function e(t){var n;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t(R(!0)),e.next=3,g.getFirstThreeUsers();case 3:n=e.sent,t(C(n.items)),t(R(!1));case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()}})(Le),Re=n(141),ze=n.n(Re),Me=function(e){return ue.a.createElement("div",{className:ze.a.usersPage},ue.a.createElement("div",null,e.usersList))},Ve=n(32),We=n.n(Ve),Ge=function(e){return ue.a.createElement("section",{className:We.a.user},ue.a.createElement("div",{className:We.a.user__image},ue.a.createElement("figure",null,ue.a.createElement(Ee.b,{className:We.a.user__image__avatar,to:"/profile/".concat(e.userData.id)},ue.a.createElement("img",{src:void 0===e.userData.image?"https://i.pinimg.com/236x/19/93/93/1993934932cca30fa70f3ffed2a62479--justin-bieber-quotes-swag.jpg":e.userData.image,alt:"love"}))),e.userData.followed?ue.a.createElement("button",{disabled:e.followingInProgress.some((function(t){return t===e.userData.id})),className:We.a.button+" "+We.a.button_unfollow,onClick:function(){e.unFollowThunk(e.userData.id)}},"\u041e\u0442\u043f\u0438\u0441\u0430\u0442\u044c\u0441\u044f"):ue.a.createElement("button",{disabled:e.followingInProgress.some((function(t){return t===e.userData.id})),className:We.a.button+" "+We.a.button_follow,onClick:function(){e.followThunk(e.userData.id)}},"\u041f\u043e\u0434\u043f\u0438\u0441\u0430\u0442\u044c\u0441\u044f")),ue.a.createElement("div",{className:We.a.user__body,key:e.userData.id},ue.a.createElement("p",null,e.userData.name),ue.a.createElement("span",null,"LA, "),ue.a.createElement("span",null,"USA"),ue.a.createElement("p",null,e.userData.id),ue.a.createElement("p",null,e.userData.status)))},Be=n(42),He=n(58),Je=n.n(He),Ke=function(e){for(var t=Math.ceil(e.totalCount/e.pageSize),n=[],a=1;a<=t;a++)n.push(a);var r=n.length,o=Math.ceil(r/e.displayingElelements),s=Object(ie.useState)(1),i=Object(Be.a)(s,2),u=i[0],c=i[1],l=Object(ie.useState)(e.displayingElelements),p=Object(Be.a)(l,2),m=p[0],f=p[1],d=Object(ie.useState)(1),g=Object(Be.a)(d,2),b=g[0],h=g[1];return ue.a.createElement("div",{className:Je.a.pagination},b>1?ue.a.createElement("button",{onClick:function(){c(u-e.displayingElelements),f(m-e.displayingElelements),h(b-1),e.onPageChanged(u+1)},className:Je.a.button},"\u041d\u0430\u0437\u0430\u0434"):null,n.slice(u-1,m).map((function(t){return ue.a.createElement("span",{onClick:function(n){e.onPageChanged(t)},className:e.currentPage===t&&Je.a.activePage},"".concat(t," "))})),b<o?ue.a.createElement("button",{onClick:function(){c(m+1),f(m+e.displayingElelements),h(b+1),e.onPageChanged(m+1)},className:Je.a.button},"\u0414\u0430\u043b\u0435\u0435"):null)},qe=n(142),Ze=Object(qe.a)((function(e){return e.usersPage.users}),(function(e){return e.filter((function(e){return e.id>1436}))})),Xe=function(e){return e.usersPage.pageSize},Ye=function(e){return e.usersPage.totalUsersCount},$e=function(e){return e.usersPage.currentPage},Qe=function(e){return e.usersPage.isFetching},et=function(e){return e.usersPage.followingInProgress},tt=function(e){function t(){var e,n;Object(pe.a)(this,t);for(var a=arguments.length,r=new Array(a),o=0;o<a;o++)r[o]=arguments[o];return(n=Object(fe.a)(this,(e=Object(de.a)(t)).call.apply(e,[this].concat(r)))).onPageChanged=function(e){n.props.setCurrentPage(e),n.props.getUsers(e,n.props.pageSize)},n}return Object(ge.a)(t,e),Object(me.a)(t,[{key:"componentDidMount",value:function(){this.props.getUsers(this.props.currentPage,this.props.pageSize)}},{key:"render",value:function(){var e=this,t=this.props.users.map((function(t){return ue.a.createElement(Ge,{userData:t,toggleFollowingInProgress:e.props.toggleFollowingInProgress,followingInProgress:e.props.followingInProgress,followThunk:e.props.followThunk,unFollowThunk:e.props.unFollowThunk,follow:e.props.follow,unfollow:e.props.unfollow})}));return ue.a.createElement(ue.a.Fragment,null,this.props.isFetching?ue.a.createElement(De,null):null,ue.a.createElement(Ke,{totalCount:this.props.totalUsersCount,pageSize:this.props.pageSize,currentPage:this.props.currentPage,onPageChanged:this.onPageChanged,displayingElelements:this.props.displayingUsers}),ue.a.createElement(Me,{usersList:t}))}}]),t}(ue.a.Component),nt=Object(be.b)((function(e){return{users:Ze(e),pageSize:Xe(e),totalUsersCount:Ye(e),currentPage:$e(e),isFetching:Qe(e),followingInProgress:et(e),displayingUsers:e.usersPage.displayingUsers}}),{follow:D,unfollow:I,setCurrentPage:L,toggleFollowingInProgress:z,getUsers:function(e,t){return function(){var n=Object(s.a)(o.a.mark((function n(a){var r;return o.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return a(R(!0)),a(L(e)),n.next=4,g.getUsers(e,t);case 4:r=n.sent,a(R(!1)),a(F(r.items)),r.totalCount>100?a(A(100)):a(A(r.totalCount)),console.log(r.items);case 9:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}()},followThunk:function(e){return function(){var t=Object(s.a)(o.a.mark((function t(n){return o.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n(z(!0,e)),g.followUser.bind(g),D,t.next=5,g.followUser(e);case 5:0==t.sent.resultCode&&n(D(e)),n(z(!1,e));case 8:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},unFollowThunk:function(e){return function(t){var n=g.unFollowUser.bind(g);k(e,t,n,I)}}})(tt),at=n(71),rt=n.n(at),ot=n(50),st=n.n(ot),it=function(e){return ue.a.createElement("div",{className:st.a.post_wrapper},ue.a.createElement("p",null,e.name),ue.a.createElement("p",null,e.message),ue.a.createElement("button",{className:st.a.button+" "+st.a.like},"Like"),ue.a.createElement("button",{className:st.a.button+" "+st.a.dislike},"Dislike"))},ut=n(121),ct=n(92),lt=n(132),pt=n(24),mt=n(40),ft=Object(pt.a)(40),dt=Object(lt.a)({form:"addNewPostForm"})((function(e){var t;return ue.a.createElement(ut.a,{onSubmit:e.handleSubmit},ue.a.createElement(ct.a,(t={rows:"8",validate:[pt.b,ft],className:rt.a.posts__textarea},Object(u.a)(t,"className",rt.a.posts__textarea),Object(u.a)(t,"placeholder",e.newPostText),Object(u.a)(t,"name","sendNewPostTextAreaValue"),Object(u.a)(t,"component",mt.b),t)),ue.a.createElement("button",{className:rt.a.send},"\u041d\u043e\u0432\u044b\u0439 \u043f\u043e\u0441\u0442"))})),gt=function(e){var t=e.postsData.map((function(t){return ue.a.createElement(it,{name:e.userName,message:t.message})}));return ue.a.createElement("div",null,ue.a.createElement(dt,{onSubmit:function(t){e.addPost(t.sendNewPostTextAreaValue)},newPostText:e.newPostText}),t)},bt=Object(be.b)((function(e){return{postsData:e.profilePage.postsData,newPostText:e.profilePage.newPostText,userName:e.auth.login}}),(function(e){return{addPost:function(t){e(function(e){return{type:_,newPostTextValue:e}}(t))}}}))(gt),ht=n(73),_t=n.n(ht),Et=n(143),Ot=n.n(Et),wt=function(e){var t=Object(ie.useState)(!1),n=Object(Be.a)(t,2),a=n[0],r=n[1],o=Object(ie.useState)(e.status),s=Object(Be.a)(o,2),i=s[0],u=s[1];Object(ie.useEffect)((function(){u(e.status)}),[e.status]);return ue.a.createElement("section",{className:Ot.a.status},a?ue.a.createElement("div",null,ue.a.createElement("input",{onBlur:function(){r(!1),e.updateStatusThunk(i)},onChange:function(e){u(e.currentTarget.value)},autoFocus:!0})):ue.a.createElement("div",null,ue.a.createElement("span",{onDoubleClick:function(){r(!0)}},"".concat(e.status))))},vt=function(e){function t(){return Object(pe.a)(this,t),Object(fe.a)(this,Object(de.a)(t).apply(this,arguments))}return Object(ge.a)(t,e),Object(me.a)(t,[{key:"render",value:function(){return this.props.profile?(console.log(this.props),ue.a.createElement("section",{className:_t.a.profileInfo},null==this.props.profile.photos.small?ue.a.createElement("img",{className:_t.a.profileInfo__avatar,src:"http://www.galerieserge.ru/pic/ava/noava.png",alt:"noAva"}):ue.a.createElement("img",{className:_t.a.profileInfo__avatar,src:this.props.profile.photos.small,alt:"avatar"}),this.props.profile.userId!=this.props.autorizedUserId?ue.a.createElement("p",null,this.props.status):ue.a.createElement(wt,{status:this.props.status,updateStatusThunk:this.props.updateStatusThunk}),ue.a.createElement("p",null,"\u0418\u043c\u044f: ",this.props.profile.fullName),ue.a.createElement("p",null,"\u0413\u043e\u0440\u043e\u0434: LA, USA"),ue.a.createElement("p",null,"\u0412\u043e\u0437\u0440\u0430\u0441\u0442: 18 \u043b\u0435\u0442"),this.props.profile.lookingForAJob?ue.a.createElement("p",null,"\u0418\u0449\u0443 \u0440\u0430\u0431\u043e\u0442\u0443 \u0441 \u0437\u043f \u043e\u0442 10k$/mon."):null)):ue.a.createElement(De,null)}}]),t}(ue.a.Component),jt=Object(Ie.f)(vt),Pt=n(144),yt=n.n(Pt),St=function(e){return console.log(e),ue.a.createElement("div",null,ue.a.createElement("div",{className:yt.a.profile__hero}),ue.a.createElement(jt,{userId:e.userId,currentProfile:e.currentProfile,status:e.status,profile:e.profile,updateStatusThunk:e.updateStatusThunk,autorizedUserId:e.autorizedUserId}),e.userId==e.autorizedUserId||void 0==e.userId?ue.a.createElement(bt,{userName:e.userName}):null)},Tt=function(e){function t(){return Object(pe.a)(this,t),Object(fe.a)(this,Object(de.a)(t).apply(this,arguments))}return Object(ge.a)(t,e),Object(me.a)(t,[{key:"componentDidMount",value:function(){var e=this.props.match.params.userId;e||(e=this.props.autorizedUserId)||this.props.history.push("/login"),this.props.setUserProfileThunk(e),this.props.getUserStatusThunk(e)}},{key:"render",value:function(){return ue.a.createElement(St,{setUserProfileThunk:this.props.setUserProfileThunk,userId:this.props.match.params.userId,profile:this.props.profile,status:this.props.status,updateStatusThunk:this.props.updateStatusThunk,currentProfile:this.props.currentProfile,autorizedUserId:this.props.autorizedUserId})}}]),t}(ue.a.Component),xt=Object(a.d)(Object(be.b)((function(e){return{profile:e.profilePage.profile,status:e.profilePage.status,autorizedUserId:e.auth.id,currentProfile:e.usersPage.currentProfile}}),{setUserProfile:O,getUserStatusThunk:j,updateStatusThunk:function(e){return function(t){p.updateStatus(e).then((function(n){0===n.data.resultCode&&t(w(e))}))}},setUserProfileThunk:v}),Ie.f,we.a)(Tt),Nt=n(74),Ut=n.n(Nt),kt=Object(pt.a)(40),Dt=Object(lt.a)({form:"login"})((function(e,t){return console.log(t),ue.a.createElement(ut.a,{className:Ut.a.loginForm,onSubmit:e},ue.a.createElement("div",null,ue.a.createElement(ct.a,{validate:[pt.b,kt],placeholder:"\u041b\u043e\u0433\u0438\u043d",name:"email",component:mt.a})),ue.a.createElement("div",null,ue.a.createElement(ct.a,{validate:[pt.b,kt],placeholder:"\u041f\u0430\u0440\u043e\u043b\u044c",name:"password",type:"password",component:mt.a})),ue.a.createElement("div",null,ue.a.createElement(ct.a,{validate:[pt.b,kt],type:"checkbox",name:"rememberMe",component:"input"}),"\u0417\u0430\u043f\u043e\u043c\u043d\u0438\u0442\u044c"),ue.a.createElement("div",null,ue.a.createElement("button",{type:"submit"},"\u0412\u043e\u0439\u0442\u0438")),0!=Object.keys(t).length&&t&&ue.a.createElement("span",null,"".concat(t)))})),It=function(e){function t(){var e,n;Object(pe.a)(this,t);for(var a=arguments.length,r=new Array(a),o=0;o<a;o++)r[o]=arguments[o];return(n=Object(fe.a)(this,(e=Object(de.a)(t)).call.apply(e,[this].concat(r)))).onSubmit=function(e){n.props.login(e.email,e.password,e.rememberMe)},n}return Object(ge.a)(t,e),Object(me.a)(t,[{key:"render",value:function(){return this.props.isAuth?ue.a.createElement(Ie.a,{to:"/profile"}):ue.a.createElement("section",null,ue.a.createElement("h1",{className:Ut.a.login__name},"\u0410\u0432\u0442\u043e\u0440\u0438\u0437\u0430\u0446\u0438\u044f"),ue.a.createElement(Dt,{onSubmit:this.onSubmit}),ue.a.createElement("p",{className:Ut.a.notLogined},"\u0412\u044b \u043d\u0435 \u0437\u0430\u043b\u043e\u0433\u0438\u043d\u0435\u043d\u044b"))}}]),t}(ue.a.Component),Ft=Object(be.b)((function(e){return{isAuth:e.auth.isAuth}}),{login:function(e,t){var n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];return function(){var a=Object(s.a)(o.a.mark((function a(r){var s,i;return o.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,f(e,t,n);case 2:0===(s=a.sent).resultCode?r(H()):(i=s.messages.length>0?s.messages[0]:void 0,r(Object(V.a)("login",{_error:i})));case 4:case"end":return a.stop()}}),a)})));return function(e){return a.apply(this,arguments)}}()}})(It),Ct=n(145),Lt=n.n(Ct),At=(n(297),function(e){return ue.a.createElement("section",null)}),Rt=function(e){return ue.a.createElement("aside",{className:Lt.a.sidebar},ue.a.createElement(At,null))},zt=(n(298),n(51)),Mt=n.n(zt),Vt=Object(pt.a)(40),Wt=Object(lt.a)({form:"addNews\u0421ommentaryForm"})((function(e){return ue.a.createElement(ut.a,{onSubmit:e.handleSubmit},ue.a.createElement(ct.a,{rows:"8",validate:[pt.b,Vt],name:"addNews\u0421ommentaryForm",component:mt.b,className:Mt.a.news__commentary}),ue.a.createElement("button",{className:Mt.a.button},"\u041a\u043e\u043c\u043c\u0435\u043d\u0442\u0438\u0440\u043e\u0432\u0430\u0442\u044c"))})),Gt=function(e){return ue.a.createElement("div",{className:Mt.a.news},ue.a.createElement("h3",{className:Mt.a.news__name},e.newsDataToNewsComponent.newsName),ue.a.createElement("p",{className:Mt.a.news__date},e.newsDataToNewsComponent.date),ue.a.createElement("img",{src:e.newsDataToNewsComponent.newsImage,alt:""}),ue.a.createElement("p",null,e.newsDataToNewsComponent.newsText),ue.a.createElement(Wt,null))},Bt=Object(be.b)((function(e){return{newsList:e.newsPage.newsData}}),{getNews:te})((function(e){var t=e.newsList.map((function(e){return ue.a.createElement(Gt,{newsDataToNewsComponent:e})}));return ue.a.createElement("section",null,t)})),Ht=ue.a.lazy((function(){return n.e(3).then(n.bind(null,305))})),Jt=function(e){function t(){return Object(pe.a)(this,t),Object(fe.a)(this,Object(de.a)(t).apply(this,arguments))}return Object(ge.a)(t,e),Object(me.a)(t,[{key:"componentDidMount",value:function(){this.props.initializedApp()}},{key:"render",value:function(){return this.props.initialized?ue.a.createElement("div",{className:"app-wrapper"},ue.a.createElement(je,null),ue.a.createElement(Ae,null),ue.a.createElement(Rt,null),ue.a.createElement("div",{className:"content"},ue.a.createElement(Ie.b,{path:"/news",render:function(){return ue.a.createElement(Bt,null)}}),ue.a.createElement(Ie.b,{path:"/profile/:userId?",render:function(){return ue.a.createElement(xt,null)}}),ue.a.createElement(Ie.b,{path:"/dialogs",render:function(){return ue.a.createElement(ue.a.Suspense,{fallback:ue.a.createElement("div",null,"Loading...")},ue.a.createElement(Ht,null))}}),ue.a.createElement(Ie.b,{path:"/users",render:function(){return ue.a.createElement(nt,null)}}),ue.a.createElement(Ie.b,{path:"/login",render:function(){return ue.a.createElement(Ft,null)}}))):ue.a.createElement(De,null)}}]),t}(ue.a.Component),Kt=Object(a.d)(Object(be.b)((function(e){return{initialized:e.app.initialized}}),{setAuthUserDataThunk:H,initializedApp:function(){return function(e){var t=e(H());Promise.all([t]).then((function(){return e({type:"INITIALIZED_SUCCESS"})}))}}}),Ie.f)(Jt);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));le.a.render(ue.a.createElement(Ee.a,{basename:"/react-app"},ue.a.createElement(be.a,{store:se},ue.a.createElement(Kt,null))),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))},31:function(e,t,n){e.exports={nav:"Navigation_nav__1OvkS",navigation:"Navigation_navigation__3Js7I",active:"Navigation_active__34t9R",bestfriends:"Navigation_bestfriends__3w8z0",bestfriends_persons:"Navigation_bestfriends_persons__3OR6E",bestfriend:"Navigation_bestfriend__2rIVl"}},32:function(e,t,n){e.exports={user:"User_user__3q4nr",user__image:"User_user__image__2ZCe4",user__image__avatar:"User_user__image__avatar__3CFXB",user__body:"User_user__body__1VVZb",button:"User_button__16tv0",button_follow:"User_button_follow__2Pzf7",button_unfollow:"User_button_unfollow__3vHG3"}},40:function(e,t,n){"use strict";n.d(t,"b",(function(){return u})),n.d(t,"a",(function(){return c}));var a=n(97),r=n(0),o=n.n(r),s=n(28),i=n.n(s),u=(n(92),function(e){var t=e.input,n=e.meta,r=(e.child,Object(a.a)(e,["input","meta","child"]));return n.touched&&"Required"===n.error?o.a.createElement("div",{className:i.a.textarea+" "+i.a.textarea_zeroValueError},o.a.createElement("textarea",Object.assign({},t,r))):n.touched&&"Max length error"===n.error?o.a.createElement("div",{className:i.a.textarea+" "+i.a.textarea_maxLengthError},o.a.createElement("textarea",Object.assign({},t,r))):o.a.createElement("div",{className:i.a.textarea},o.a.createElement("textarea",Object.assign({},t,r)))}),c=function(e){var t=e.input,n=e.meta,r=Object(a.a)(e,["input","meta"]);return n.touched&&"Required"===n.error?o.a.createElement("div",{className:i.a.textarea+" "+i.a.textarea_zeroValueError},o.a.createElement("input",Object.assign({},t,r))):n.touched&&"Max length error"===n.error?o.a.createElement("div",{className:i.a.textarea+" "+i.a.textarea_maxLengthError},o.a.createElement("input",Object.assign({},t,r))):o.a.createElement("div",{className:i.a.textarea},o.a.createElement("input",Object.assign({},t,r)))}},50:function(e,t,n){e.exports={button:"Post_button__1ZFVu",like:"Post_like__3-BVi",post_wrapper:"Post_post_wrapper__26VDb"}},51:function(e,t,n){e.exports={news:"News_news__1MMjj",button:"News_button__9Mspn",news__commentary:"News_news__commentary__2OBmo",news__name:"News_news__name__3_Yxd",news__date:"News_news__date__1FKI5"}},58:function(e,t,n){e.exports={activePage:"Pagination_activePage__PC0mX",button_showMore:"Pagination_button_showMore__Sjwvr",pagination:"Pagination_pagination__27Ui1",button:"Pagination_button__3xVeS"}},71:function(e,t,n){e.exports={send:"Posts_send__1gYtD"}},73:function(e,t,n){e.exports={profileInfo:"ProfileInfo_profileInfo__1mX-P",profileInfo__avatar:"ProfileInfo_profileInfo__avatar__36luA"}},74:function(e,t,n){e.exports={loginForm:"Login_loginForm__2Dgdo",notLogined:"Login_notLogined__3fsNd",login__name:"Login_login__name__3WIWX"}},89:function(e,t,n){"use strict";var a=n(13),r=n(14),o=n(16),s=n(15),i=n(17),u=n(0),c=n.n(u),l=n(25),p=n(6),m=function(e){return{isAuth:e.auth.isAuth}};t.a=function(e){var t=function(t){function n(){return Object(a.a)(this,n),Object(o.a)(this,Object(s.a)(n).apply(this,arguments))}return Object(i.a)(n,t),Object(r.a)(n,[{key:"render",value:function(){return this.props.isAuth?c.a.createElement(e,this.props):c.a.createElement(l.a,{to:"/login"})}}]),n}(c.a.Component);return Object(p.b)(m)(t)}},94:function(e,t,n){e.exports={header:"Header_header__3necD",button_logout:"Header_button_logout__3C263"}},96:function(e,t,n){e.exports={bestfriends:"BestFriends_bestfriends__2hB2m"}}},[[170,1,2]]]);
//# sourceMappingURL=main.7174ef22.chunk.js.map